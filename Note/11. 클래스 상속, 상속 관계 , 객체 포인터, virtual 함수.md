# 클래스 상속, 상속 관계 , 객체 포인터, virtual 함수

## 클래스 상속

- 기존 클래스의 기능을 물려받아 새로운 클래스를 만드는 기능입니다. 주로 코드 재사용을 목적으로 활용됩니다.
- 상속 관계에 있는 클래스들은 다음과 같은 순서로 생성되고 소멸됩니다.
    - **객체가 생성될 때**: 부모 클래스(기반 클래스)의 생성자가 먼저 호출되어 초기화되고, 그 다음 자식 클래스(파생 클래스)의 생성자가 실행됩니다.
    - **객체가 소멸될 때**: 생성 순서와 반대로, 자식 클래스의 소멸자가 먼저 실행된 후, 부모 클래스의 소멸자가 가장 나중에 호출됩니다.
- 클래스 간의 관계를 나타내는 중요한 두 가지 개념이 있습니다.
    - **Is-A 관계 (상속)**: "A는 B이다"라는 논리적 관계가 성립할 때 사용합니다.
    - **Has-A 관계 (포함)**: "A는 B를 가지고 있다"라는 논리적 관계가 성립할 때 사용합니다.

## 객체와 포인터의 관계

```cpp
#include <iostream>

class Person
{
public:
	void Sleep()
	{
		std::cout << "Sleep\\n";
	}
};

class Student : public Person
{
public:
	void Study()
	{
		std::cout << "Study\\n";
	}
};

class PartTimeStudent : public Student
{
public:
	void Work()
	{
		std::cout << "Work\\n";
	}
};

int main()
{
	Person* person3 = new PartTimeStudent();
	person3->Sleep();
	//person3->Study();		// 오류 발생.
	//person3->Work();		// 오류 발생.
}
```

- 클래스 타입의 포인터는 해당 클래스 타입 객체의 주소를 저장합니다.
- 상속 관계에서 부모 클래스 타입의 포인터는 자식 클래스 타입의 객체 주소를 저장할 수 있으며, 이는 다형성의 기반이 됩니다.
- 부모 타입 포인터가 실제로는 자식 객체를 가리키더라도, 해당 포인터를 통해 접근할 수 있는 멤버(함수/변수)는 포인터가 선언된 부모 타입에 정의된 것들로만 제한됩니다.

## virtual 함수 (다형성)

- `virtual` 키워드를 통해 상위 클래스 함수를 하위 클래스에서 `override`하여, 하나의 포인터로 다양한 객체 타입을 다룰 수 있는 다형성을 가능하게 합니다.
- `virtual` 함수 호출 시 컴파일러가 어떤 함수를 호출할지 런타임에 결정하는 과정이 추가되어 미미한 성능 저하가 발생할 수 있습니다.
- 오버라이딩 후에도 필요하다면 `::` 범위 연산자를 사용하여 기반 클래스(부모)의 `virtual` 함수를 명시적으로 호출하고 기능을 확장할 수 있습니다.
